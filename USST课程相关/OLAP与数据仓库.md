## 一、什么是OLAP：

&emsp;&emsp;联机分析处理，即OLAP(Online Analytical Processing)，是一种能够从数据的各方面迅速地、一致的、交互的观察信息的软件技术。
&emsp;&emsp;联机分析处理技术由**联机事务处理**(Online Transaction Processing，OLTP)应用发展而来，OLTP是传统的关系型数据库的主要应用，主要是基本的、日常的事务处理，例如银行交易，而OLAP技术基于**数据仓库技术**，支持复杂的分析操作，侧重决策支持，并且提供直观易懂的查询结果。
![图片来自DAMS 2017 中国数据资产管理峰会](https://img-blog.csdnimg.cn/26f045456bb94ac490a82e39b6db356b.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5LiN54ix5ZCD6bG855qE54yr5Li2,size_20,color_FFFFFF,t_70,g_se,x_16)

## 二、数据仓库
### 数据仓库的概念：
&emsp;&emsp;数据仓库，Data Warehouse，简写DW或DWH。数据仓库的概念由 W·H·Inmon 提出：“数据仓库是一个**面向主题的**、**集成的**、**时变的**、**非易失的**数据集合，用以支持管理部门的决策过程。”

### 数据仓库的架构模式：
&emsp;&emsp;多维数据模型是目前应用最广泛的数据仓库的数据模型，根据事实表和维度表的关系，又可以将常见的模型分为**星型模式**和**雪花模式**

![image-20210925200617644](E:/typora_img/image-20210925200617644.png)

**星型模式：** 所有的维度表都直接连接在事实表上，整个图就像星星一样，故该模型称为星型模型
**雪花模式：** 星型模式的扩展，其中某些维表被规范化，进一步分解到附加表(维表)中

![image-20210925200757631](E:/typora_img/image-20210925200757631.png)

**星型模式与雪花模式的比较：**

​		雪花模式通过最大限度的减少数据存储量以及联合较小的维表来改善查询性能，但相比于星型模式，雪花模式增加了用户必须处理的表数量，增加了某些查询的复杂性。

### 数据仓库与OLAP的关系：

&emsp;&emsp;数据仓库与OLAP的关系是互补的，现代OLAP系统一般以数据仓库作为基础，即从数据仓库中抽取详细数据的一个子集并经过必要的聚集存储到OLAP存储器中供前端分析工具读取。

## 三、OLAP的技术核心—维

​		OLAP 的目标是满足决策支持或多维环境特定的查询和报表需求，它的技术核心是“维”这个概念，因此 OLAP 也可以说是多维数据分析工具的集合

**维(Dimension)：**

人们观察事物的视角，如时间、地理位置、年龄和性别等，是单一角度概念。

**维的层次(Lever of Dimension)：**

表示维度概念基础上进一步的细分，如时间可以细分为年、季度、月三个层次。

**维成员(Member of Dimension)：**

表示维不可再细分的原子取值，如时间维的成员可以是2019年1月10日。

**度量(Measure)：**

表示在这个维成员上的取值。


## 四、OLAP的操作功能

### 1.上卷（Roll-up）：

![](E:/typora_img/image-20210925205034990.png)

​		又称为上钻（Drill-up），是指通过一个维的概念分层向上攀升或者通过维归约，在数据立方体上进行聚集。

### 2.下钻（Drill-down）：

![image-20210925211248382](E:/typora_img/image-20210925211248382.png)

​		上卷的逆操作，维度是有层次的，下钻表示进入维度的下一层，将汇总数据拆分到下一层所在细节数据信息，如上图从 2010二季度 下钻到看4、5、6月的明细数据。

### 3.切片（Slice）：

![image-20210925211823943](E:/typora_img/image-20210925211823943.png)

​		切片可以理解成把立体按某一个维度进行切分，就可以看两维数据，如图中按电子产品切分，看到的是时间和地理位置关系的二维数据。

### 4.切块（Dice）：

![image-20210925212358497](E:/typora_img/image-20210925212358497.png)

相对于切片是按一个点切分，切块就是按一个范围(区间)来做切分。

### 5.旋转（Pivot）：

![image-20210925212516017](E:/typora_img/image-20210925212516017.png)

维的行列位置交换，换一个视角分析数据。

## 五、OLAP与DW在电商领域的应用

​		OLAP和数据仓库一直是帮助企业高层决策的重要工具，特别是在电子商务领域具有重要的应用，这里给出一个基于OLAP技术和数据仓库实现的网上购物系统。

### 面向服务的架构中数据仓库的实现

![image-20210927152322730](E:/typora_img/image-20210927152322730.png)

### 网上购物系统的数据字典

![image-20210926212527068](E:/typora_img/image-20210926212527068.png)

### 网上购物系统的多维数据模型

![image-20210926220424634](E:/typora_img/image-20210926220424634.png)

​		网上购物系统的关系数据模型确定后，就可以根据关系数据模型确定相应的多维数据模型，这里的订单表就是事实表，而用户信息表，时间维表和商品信息表就是事实表的三个维表，这四张表组成了一个典型的星型模式的多维数据模型。

![	](E:/typora_img/C8BC36B9592E8F24F72420ABC8D7BD50.jpg)

​		在该三维数据集上，事实表为 Order，多维数据集维度有刚刚建立的用户维度，商品维度和时间维度，用户维度包括未知、女、男三个维成员，时间维度包括2018年、2019年、2020年三个维成员，商品维度包括商品1，商品2，商品3三个维成员



## 六、OLAP技术的现状和未来发展

​	
